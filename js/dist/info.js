let loadInfo=function(a){$('.info').animate({opacity:0},500,function(){$('.info').css('height','40vh'),$('.info').animate({opacity:1},500),$('.company-name').text(a.companyName),$('.industry').text(a.industry),$('.rate').html('<b>Tax Rate</b>: <font size="3px">'+a.rate+'%</font>');let b=a.taxBreak;'-'==b[0]?(b=b.slice(1),$('.tax-break').html('<b>Tax Break</b>: <font size="3px">Paid $'+b+' beyond the standard 35% rate</font>')):$('.tax-break').html('<b>Tax Break</b>: <font size="3px">$'+a.taxBreak+'</font>'),0<a.yearsNoTax?($('.years-no-tax').show(),1==a.yearsNoTax?$('.years-no-tax').text('Did not pay taxes for '+a.yearsNoTax+' year'):$('.years-no-tax').text('Did not pay taxes for '+a.yearsNoTax+' years')):$('.years-no-tax').hide();let c={deferredTaxes:'deferred-taxes',accDepreciation:'acc-depreciation',dpad:'dpad',researchExperiment:'research-experiment',stockOptions:'stock-options'};for(let b in c)'True'==a[b]?$('.'+c[b]).show():$('.'+c[b]).hide();$('.note>.description').text(a.note),a.note?$('.note').show():$('.note').hide()})},appendStoryText=function(a,b,c=!1,d=null,e=!1){return new Promise(function(f){let g=Promise.resolve();!1!=c&&(g=g.then(function(){return new Promise(function(a){d3.select('.dynamic-text').selectAll('text').transition().duration(c).style('opacity',0).remove().end(a)})})),g.then(function(){d3.select('.dynamic-text').style('line-height',function(){return e?'40px':'80px'}).append('text').style('opacity',0).html(function(){return d&&(b='<img src='+d+' class="dynamic-text-img"/>'+b),b}).transition().duration(a).style('opacity',1).end(f)})})},updateStoryText=function(a,b,c){return new Promise(function(d){d3.select('.dynamic-text').style('opacity',0).transition().duration(a).style('opacity',1).call(function(){c&&(b='<img src='+c+' class="dynamic-text-img"/>'+b),d3.select('.dynamic-text').html(b)}).end(d)})};