var loadInfo=function(a){$('.info').animate({opacity:0},500,function(){$('.info').css('height','40vh'),$('.info').animate({opacity:1},500),$('.company-name').text(a.companyName),$('.industry').text(a.industry),$('.rate').html('<b>Tax Rate</b>: <font size="3px">'+a.rate+'%</font>');var b=a.taxBreak;'-'==b[0]?(b=b.slice(1),$('.tax-break').html('<b>Tax Break</b>: <font size="3px">Paid $'+b+' beyond the standard 35% rate</font>')):$('.tax-break').html('<b>Tax Break</b>: <font size="3px">$'+a.taxBreak+'</font>'),0<a.yearsNoTax?($('.years-no-tax').show(),1==a.yearsNoTax?$('.years-no-tax').text('Did not pay taxes for '+a.yearsNoTax+' year'):$('.years-no-tax').text('Did not pay taxes for '+a.yearsNoTax+' years')):$('.years-no-tax').hide();var c={deferredTaxes:'deferred-taxes',accDepreciation:'acc-depreciation',dpad:'dpad',researchExperiment:'research-experiment',stockOptions:'stock-options'};for(var d in c)'True'==a[d]?$('.'+c[d]).show():$('.'+c[d]).hide();$('.note>.description').text(a.note),a.note?$('.note').show():$('.note').hide()})},appendStoryText=function(a,b){var c=void 0!==arguments[2]&&arguments[2],d=void 0===arguments[3]?null:arguments[3],e=void 0!==arguments[4]&&arguments[4];return new Promise(function(e){var f=Promise.resolve();!1!=c&&(f=f.then(function(){return new Promise(function(a){d3.select('.dynamic-text').selectAll('text').transition().duration(c).style('opacity',0).remove().end(a)})})),f.then(function(){d3.select('.dynamic-text').style('line-height','40px').append('text').style('opacity',0).html(function(){return d&&(b='<img src='+d+' class="dynamic-text-img"/>'+b),b}).transition().duration(a).style('opacity',1).end(e)})})},updateStoryText=function(a,b,c){return new Promise(function(d){d3.select('.dynamic-text').style('opacity',0).transition().duration(a).style('opacity',1).call(function(){c&&(b='<img src='+c+' class="dynamic-text-img"/>'+b),d3.select('.dynamic-text').html(b)}).end(d)})};