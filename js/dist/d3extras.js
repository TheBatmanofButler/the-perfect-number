var drop=function(a,b,c){for(var d=0;d<b.length-a;++d)b[d]=b[d+a];b.length-=a,c.apply(this,b)};d3.transition.prototype.end=function(a,b){var c=a,d=b,e=this;0===e.size()&&a();for(var f=arguments,g=0;g<f.length-h;++g)f[g]=f[g+h];if(f.length-=h,!e.size()&&(d||0===d))d3.timer(function(){return c.apply(e,f),!0},"number"==typeof d?d:0);else{var h=0;e.each(function(){++h}).on("end",function(){--h||c.apply(e,f)})}return e},d3.selection.prototype.moveToFront=function(){return this.each(function(){this.parentNode.appendChild(this)})};var getBrowserName=function(){var a,b,c,d=navigator.appVersion,e=navigator.userAgent,f=navigator.appName,g=""+parseFloat(navigator.appVersion),h=parseInt(navigator.appVersion,10);return-1==(b=e.indexOf("Opera"))?-1==(b=e.indexOf("MSIE"))?-1==(b=e.indexOf("Chrome"))?-1==(b=e.indexOf("Safari"))?-1==(b=e.indexOf("Firefox"))?(a=e.lastIndexOf(" ")+1)<(b=e.lastIndexOf("/"))&&(f=e.substring(a,b),g=e.substring(b+1),f.toLowerCase()==f.toUpperCase()&&(f=navigator.appName)):(f="Firefox",g=e.substring(b+8)):(f="Safari",g=e.substring(b+7),-1!=(b=e.indexOf("Version"))&&(g=e.substring(b+8))):(f="Chrome",g=e.substring(b+7)):(f="Microsoft Internet Explorer",g=e.substring(b+5)):(f="Opera",g=e.substring(b+6),-1!=(b=e.indexOf("Version"))&&(g=e.substring(b+8))),-1!=(c=g.indexOf(";"))&&(g=g.substring(0,c)),-1!=(c=g.indexOf(" "))&&(g=g.substring(0,c)),h=parseInt(""+g,10),isNaN(h)&&(g=""+parseFloat(navigator.appVersion),h=parseInt(navigator.appVersion,10)),f};